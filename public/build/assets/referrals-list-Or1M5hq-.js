import{L as C}from"./index-D6YI7NWh.js";import{r as o,o as i,c,a as l,g as a,w as t,F as u,b as n,e as p,f as R,d as g,l as q,t as s}from"./app-B3zO_ILq.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./focus-management-C4nM2lYB.js";import"./keyboard-DTUPi9Wy.js";import"./disposables-BnUz9YMx.js";import"./description-BoEneSfX.js";const H={layout:C,props:{referrals:{type:Object,required:!1,default:()=>{}},referralStatuses:{type:Object,required:!1,default:()=>{}},links:{type:Object,required:!1,default:()=>{}}},data(){return{columns:{referral_id:{label:"Reference",align:"right"},source_user:{label:"Source"},patient_user:{label:"Patient"},recipient_user:{label:"Recipient"},appointment:{label:"Appointment"},referral_status_id:{label:"Status",formatter:r=>r.referral_status.name}}}},methods:{selectReferralStatusId(r=void 0){this.$inertia.get(route(route().current()),{...this.$page.props.query,referralStatusId:r,page:void 0},{preserveState:!0,preserveScroll:!0})},parseOrganizationAddress(r){return[r.address_line_1,r.address_line_2,r.city,r.state.name,r.zip_code].filter(d=>d).join(", ")}}},I={class:"h-full flex flex-col"},L={class:"text-gray-600 font-medium"},M={class:"italic text-gray-500"},O={class:"font-medium"},j={class:"italic text-gray-500"},z={class:"font-medium"},N={class:"italic text-gray-500"},Z={class:"flex items-center"},F=a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-4 h-4 mr-1"},[a("path",{"fill-rule":"evenodd",d:"M5.75 2a.75.75 0 0 1 .75.75V4h7V2.75a.75.75 0 0 1 1.5 0V4h.25A2.75 2.75 0 0 1 18 6.75v8.5A2.75 2.75 0 0 1 15.25 18H4.75A2.75 2.75 0 0 1 2 15.25v-8.5A2.75 2.75 0 0 1 4.75 4H5V2.75A.75.75 0 0 1 5.75 2Zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75Z","clip-rule":"evenodd"})],-1),$={key:1},D={class:"flex gap-1 items-center font-medium"},E=a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-4 h-4"},[a("path",{"fill-rule":"evenodd",d:"M5.75 2a.75.75 0 0 1 .75.75V4h7V2.75a.75.75 0 0 1 1.5 0V4h.25A2.75 2.75 0 0 1 18 6.75v8.5A2.75 2.75 0 0 1 15.25 18H4.75A2.75 2.75 0 0 1 2 15.25v-8.5A2.75 2.75 0 0 1 4.75 4H5V2.75A.75.75 0 0 1 5.75 2Zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75Z","clip-rule":"evenodd"})],-1),P={class:"italic text-gray-500"};function T(r,d,_,U,y,m){const b=o("v-inertia-head"),w=o("v-button"),k=o("v-section-heading"),f=o("v-content-body"),h=o("v-horizontal-menu-item"),A=o("v-horizontal-menu"),v=o("v-link"),x=o("v-badge"),S=o("v-app-model-table");return i(),c(u,null,[l(b,{title:"Referral Management"}),a("div",I,[l(f,{class:"border-b border-gray-200"},{default:t(()=>[l(k,null,{title:t(()=>[n(" Referrals ")]),description:t(()=>[n(" Manage referrals available in the application. ")]),actions:t(()=>[this.$auth().can(["referral.store"])?(i(),p(w,{key:0,href:r.route("panel.referrals.create")},{default:t(()=>[n(" Create Referral ")]),_:1},8,["href"])):R("",!0)]),_:1})]),_:1}),l(f,{class:"border-b border-gray-200"},{default:t(()=>[l(A,{class:"grid grid-cols-2 sm:grid-cols-4 xl:grid-cols-8 gap-2"},{default:t(()=>[l(h,{href:"#",active:!r.$page.props.query.referralStatusId,onClick:d[0]||(d[0]=g(e=>m.selectReferralStatusId(),["stop"]))},{default:t(()=>[n(" All Referrals ")]),_:1},8,["active"]),(i(!0),c(u,null,q(_.referralStatuses.data,(e,V)=>(i(),p(h,{key:"referralStatus_"+V,href:"#",active:r.$page.props.query.referralStatusId==e.referral_status_id,onClick:g(G=>m.selectReferralStatusId(e.referral_status_id),["stop"])},{default:t(()=>[n(s(e.name),1)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1}),l(S,{columns:y.columns,data:_.referrals.data,links:_.referrals.links,meta:_.referrals.meta},{column_referral_id:t(({row:e})=>[l(v,{href:r.route("panel.referrals.show",{referral:e.referral_id}),class:"font-semibold"},{default:t(()=>[n(" REF#"+s(e.referral_id),1)]),_:2},1032,["href"])]),column_source_user:t(({row:e})=>[a("div",L,s(e.referral_date),1),a("span",M,s(e.source_user.name),1)]),column_patient_user:t(({row:e})=>[a("div",O,s(e.patient_user.name),1),a("span",j,s(e.patient_user.email),1)]),column_recipient_user:t(({row:e})=>[a("div",z,s(e.recipient_user.name),1),a("span",N,s(e.recipient_user.email),1)]),column_appointment:t(({row:e})=>[a("div",Z,[!e.appointment||!e.appointment.start_date?(i(),c(u,{key:0},[F,l(v,{href:r.route("panel.appointments.create",{referral_id:e.referral_id}),class:"font-medium"},{default:t(()=>[n(" Create Appointment ")]),_:2},1032,["href"])],64)):(i(),c("div",$,[a("div",D,[E,n(" "+s(new Date(e.appointment.start_date).toLocaleString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})),1)]),a("div",P,s(m.parseOrganizationAddress(e.appointment.organization)),1)]))])]),column_referral_status_id:t(({row:e})=>[e&&e.referral_status?(i(),p(x,{key:0},{default:t(()=>[n(s(e.referral_status.name),1)]),_:2},1024)):(i(),c(u,{key:1},[n(s(e.referral_status_id),1)],64))]),_:1},8,["columns","data","links","meta"])])],64)}const te=B(H,[["render",T]]);export{te as default};
