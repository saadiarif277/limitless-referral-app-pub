import{L as w}from"./index-D6YI7NWh.js";import{T as S,r as l,o as n,c as f,a as t,w as r,d as q,F as d,b as a,t as p,g as j,e as m,f as h}from"./app-B3zO_ILq.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./focus-management-C4nM2lYB.js";import"./keyboard-DTUPi9Wy.js";import"./disposables-BnUz9YMx.js";import"./description-BoEneSfX.js";const N={name:"ReferralTypesCreateEdit",layout:w,props:{referralType:{type:Object,required:!1,default:()=>{}}},data(){return{form:S({name:"",description:""})}},watch:{referralType:{handler(o){!o||!o.data||(this.form.name=o.data.name,this.form.description=o.data.description)},immediate:!0}},methods:{submitForm(){this.form.clearErrors(),this.referralType&&this.referralType.data&&this.referralType.data.referral_type_id?this.updateRequest():this.storeRequest()},storeRequest(){this.form.post(this.route("panel.referral-types.store"),{onSuccess:()=>this.$toast().success("Referral type created successfully!"),onError:o=>{Object.keys(o).forEach(i=>{const s=o[i];this.$toast().error(s)})}})},updateRequest(){this.form.patch(this.route("panel.referral-types.update",{referral_type:this.referralType.data.referral_type_id}),{onSuccess:()=>this.$toast().success("Referral type updated successfully!"),onError:o=>{Object.keys(o).forEach(i=>{const s=o[i];this.$toast().error(s)})}})},deleteRequest(){this.$alert().confirm(()=>new Promise((o,i)=>{this.form.delete(this.route("panel.referral-types.destroy",{referralType:this.referralType.data.referral_type_id}),{onSuccess:()=>{this.$toast().success("Referral type deleted successfully!"),o()},onError:s=>{Object.keys(s).forEach(g=>{const e=s[g];this.$toast().error(e)}),i()}})}))}}},B={class:"grid grid-cols-1 divide-y divide-gray-200 gap-12 pb-12"},O=["value"];function D(o,i,s,g,e,T){const k=l("v-inertia-head"),x=l("v-section-heading"),u=l("v-content-body"),E=l("v-section-divider"),b=l("v-form-label"),R=l("v-form-input"),v=l("v-form-error"),c=l("v-form-group"),C=l("v-form-textarea"),_=l("v-button"),V=l("v-form");return n(),f(d,null,[t(k,{title:s.referralType?`Editing '${s.referralType.data.name}' referralType.`:"Create Referral Type"},null,8,["title"]),t(V,{class:"h-full",onSubmit:q(T.submitForm,["prevent"])},{default:r(()=>[t(u,{class:"border-b border-gray-200"},{default:r(()=>[t(x,null,{title:r(()=>[s.referralType?(n(),f(d,{key:1},[a(" Editing '"+p(s.referralType.data.name)+"' referral type. ",1)],64)):(n(),f(d,{key:0},[a(" Create Referral Type ")],64))]),description:r(()=>[s.referralType?(n(),f(d,{key:1},[a(" Change and/or modify the details for the referral type. ")],64)):(n(),f(d,{key:0},[a(" Fill up the form below to create a new referral type for the application. ")],64))]),_:1})]),_:1}),j("div",B,[t(c,{class:"divide-y divide-gray-200"},{default:r(()=>[t(E,null,{default:r(()=>[a(" General Details ")]),_:1}),t(u,{class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-4"},{default:r(()=>[t(c,{class:"col-span-full"},{default:r(()=>[t(b,null,{default:r(()=>[a("Name")]),_:1}),t(R,{type:"text",modelValue:e.form.name,"onUpdate:modelValue":i[0]||(i[0]=y=>e.form.name=y),error:e.form.errors.name,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.name?(n(),m(v,{key:0},{default:r(()=>[a(p(e.form.errors.name),1)]),_:1})):h("",!0)]),_:1}),t(c,{class:"col-span-full"},{default:r(()=>[t(b,null,{default:r(()=>[a("Description")]),_:1}),t(C,{modelValue:e.form.description,"onUpdate:modelValue":i[1]||(i[1]=y=>e.form.description=y),error:e.form.errors.description,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.description?(n(),m(v,{key:0},{default:r(()=>[a(p(e.form.errors.description),1)]),_:1})):h("",!0)]),_:1})]),_:1})]),_:1})]),t(c,{class:"bg-gray-50 flex items-center justify-end gap-2 text-right border-t border-gray-200"},{default:r(()=>[t(u,{class:"flex gap-4"},{default:r(()=>[e.form.progress?(n(),f("progress",{key:0,value:e.form.progress.percentage,max:"100"},p(e.form.progress.percentage)+"% ",9,O)):h("",!0),t(_,{href:o.route("panel.referral-types.index"),color:"white",disabled:e.form.processing},{default:r(()=>[a(" Cancel ")]),_:1},8,["href","disabled"]),s.referralType?(n(),m(_,{key:2,disabled:e.form.processing},{default:r(()=>[a(" Save Changes ")]),_:1},8,["disabled"])):(n(),m(_,{key:1,disabled:e.form.processing},{default:r(()=>[a(" Create Referral Type ")]),_:1},8,["disabled"]))]),_:1})]),_:1})]),_:1},8,["onSubmit"])],64)}const H=F(N,[["render",D]]);export{H as default};
