import{L as c}from"./index-D6YI7NWh.js";import{q as u,Q as m,T as f,x as b,y as r,r as g,o as y,c as h,a as q,g as v,t as x,F as S}from"./app-B3zO_ILq.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./focus-management-C4nM2lYB.js";import"./keyboard-DTUPi9Wy.js";import"./disposables-BnUz9YMx.js";import"./description-BoEneSfX.js";const R={name:"ReferralsShow",layout:c,props:{referral:{type:Object,required:!0}},setup(i){const n=u("toast"),o=m(),e=f({referral_status_id:2,referral_date:new Date().toISOString().split("T")[0],state_id:o.props.auth.user.state_id||"",procedure_id:"",referral_reason_ids:[],notes:"",patient_create:!i.patients.data||!i.patients.data.length||!1,patient_user_id:"",patient_name:"",patient_email:"",patient_phone_number:"",patient_height:"",patient_weight:"",patient_gender:"",patient_birthdate:"",patient_address_line_1:"",patient_address_line_2:"",patient_city:"",patient_state_id:"",patient_zip_code:"",recipient_user_id:"",documents:{}}),d=b([{title:"General Information",fields:[{type:"date",label:"Referral Date",model:r({get:()=>e.referral_date,set:t=>e.referral_date=t}),required:!0},{type:"select",label:"Referral State",model:r({get:()=>e.state_id,set:t=>e.state_id=t}),options:[{label:"Select State",value:""},...i.states.data.map(({name:t,state_id:a})=>({label:t,value:a}))],required:!0},{type:"select",label:"Procedure",model:r({get:()=>e.procedure_id,set:t=>e.procedure_id=t}),options:[{label:"Select Procedure",value:""},...i.procedures.data.map(({name:t,procedure_id:a})=>({label:t,value:a}))],required:!0,class:"col-span-full sm:col-span-2"},{type:"checkbox-array",label:"Referral Reasons",model:r({get:()=>e.referral_reason_ids,set:t=>e.referral_reason_ids=t}),options:i.referralReasons.data.map(({name:t,referral_reason_id:a})=>({label:t,value:a})),required:!1,class:"w-full col-span-full"},{type:"textarea",label:"Other Notes",model:r({get:()=>e.notes,set:t=>e.notes=t}),required:!1,class:"w-full col-span-full",attributes:r(()=>({placeholder:"Enter additional notes for the referral.",disabled:e.processing}))}]},{title:"Patient Information",fields:[{type:"toggle",toggleLabel:"Create New Patient",model:r({get:()=>e.patient_create,set:t=>e.patient_create=t}),required:!1,error:r(()=>e.errors.patient_create)},{type:"divider"},{type:"radio-card-array",model:r({get:()=>e.patient_user_id,set:t=>e.patient_user_id=t}),options:i.patients.data.map(({name:t,user_id:a,email:s})=>({label:t,value:a,description:s})),required:!0,error:r(()=>e.errors.patient_user_id),class:"w-full col-span-full",visible:r(()=>!e.patient_create)},{type:"text",label:"Name",model:r({get:()=>e.patient_name,set:t=>e.patient_name=t}),required:!0,error:r(()=>e.errors.patient_name),visible:r(()=>!!e.patient_create)},{type:"email",label:"Email",model:r({get:()=>e.patient_email,set:t=>e.patient_email=t}),required:!0,error:r(()=>e.errors.patient_email),visible:r(()=>!!e.patient_create)},{type:"text",label:"Phone Number",model:r({get:()=>e.patient_phone_number,set:t=>e.patient_phone_number=t}),required:!1,error:r(()=>e.errors.patient_phone_number),visible:r(()=>!!e.patient_create)},{type:"text",label:"Height",model:r({get:()=>e.patient_height,set:t=>e.patient_height=t}),required:!1,error:r(()=>e.errors.patient_height),visible:r(()=>!!e.patient_create)},{type:"text",label:"Weight",model:r({get:()=>e.patient_weight,set:t=>e.patient_weight=t}),required:!1,error:r(()=>e.errors.patient_weight),visible:r(()=>!!e.patient_create)},{type:"text",label:"Gender",model:r({get:()=>e.patient_gender,set:t=>e.patient_gender=t}),required:!1,error:r(()=>e.errors.patient_gender),visible:r(()=>!!e.patient_create)},{type:"text",label:"Address Line 1",model:r({get:()=>e.patient_address_line_1,set:t=>e.patient_address_line_1=t}),required:!1,error:r(()=>e.errors.patient_address_line_1),visible:r(()=>!!e.patient_create)},{type:"text",label:"Address Line 2",model:r({get:()=>e.patient_address_line_2,set:t=>e.patient_address_line_2=t}),required:!1,error:r(()=>e.errors.patient_address_line_2),visible:r(()=>!!e.patient_create)},{type:"text",label:"City",model:r({get:()=>e.patient_city,set:t=>e.patient_city=t}),required:!1,error:r(()=>e.errors.patient_city),visible:r(()=>!!e.patient_create)},{type:"select",label:"State",model:r({get:()=>e.patient_state_id,set:t=>e.patient_state_id=t}),options:[{label:"Select State",value:""},...i.states.data.map(({name:t,state_id:a})=>({label:t,value:a}))],required:!0,error:r(()=>e.errors.patient_state_id),visible:r(()=>!!e.patient_create)},{type:"text",label:"Zip Code",model:r({get:()=>e.patient_zip_code,set:t=>e.patient_zip_code=t}),required:!1,error:r(()=>e.errors.patient_zip_code),visible:r(()=>!!e.patient_create)},{type:"date",label:"Birthdate",model:r({get:()=>e.patient_birthdate,set:t=>e.patient_birthdate=t}),required:!1,error:r(()=>e.errors.patient_birthdate),visible:r(()=>!!e.patient_create)}]},{title:"Recipient Information",fields:[{type:"radio-card-array",model:r({get:()=>e.recipient_user_id,set:t=>e.recipient_user_id=t}),options:i.recipients.data.map(({name:t,user_id:a,email:s})=>({label:t,value:a,description:s})),required:!0,error:r(()=>e.errors.recipient_user_id),class:"w-full col-span-full"}]},{title:"Document Information",fields:i.documentCategories.data.flatMap((t,a)=>{const s=t.document_types;return[function(){return a>0?{type:"divider"}:{}}(),{type:"heading",label:t.name},...s.map(l=>({type:"file",label:l.name,model:r({get:()=>e.documents[l.document_type_id],set:p=>e.documents[l.document_type_id]=p}),attributes:r(()=>({disabled:e.processing})),error:r(()=>e.errors[`documents.${l.document_type_id}`])}))].filter(l=>l.type)})}]);return{form:e,fieldGroups:d,submitForm:()=>{e.clearErrors(),e.post(route("panel.referrals.store"),{onSuccess:()=>n().success("Referral created successfully!"),onError:t=>{Object.keys(t).forEach(a=>{const s=t[a];n().error(s)})}})}}}};function E(i,n,o,e,d,_){const t=g("v-inertia-head");return y(),h(S,null,[q(t,{title:"Show Referral"}),v("div",null,x(o.referral),1)],64)}const C=w(R,[["render",E]]);export{C as default};
