import{L as O}from"./index-D6YI7NWh.js";import{T as j,r as p,o as d,c as b,a as o,g as C,w as r,d as E,F as h,b as s,t as u,f as a,e as f}from"./app-B3zO_ILq.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./focus-management-C4nM2lYB.js";import"./keyboard-DTUPi9Wy.js";import"./disposables-BnUz9YMx.js";import"./description-BoEneSfX.js";const N={name:"UsersCreateEdit",layout:O,props:{medicalSpecialties:{type:Object,required:!1,default:()=>{}},states:{type:Object,required:!1,default:()=>{}},timezoneOptions:{type:Object,required:!0},user:{type:Object,required:!1,default:()=>{}}},data(){return{form:j({name:"",email:"",phone_number:"",birthdate:"",address_line_1:"",address_line_2:"",city:"",state_id:"",zip_code:"",timezone:"",medical_specialty_id:""})}},watch:{user:{handler(i){!i||!i.data||(this.form.name=i.data.name,this.form.email=i.data.email,this.form.phone_number=i.data.phone_number,this.form.birthdate=i.data.birthdate,this.form.address_line_1=i.data.address_line_1,this.form.address_line_2=i.data.address_line_2,this.form.city=i.data.city,this.form.state_id=i.data.state_id,this.form.zip_code=i.data.zip_code,this.form.timezone=i.data.timezone,this.form.medical_specialty_id=i.data.medical_specialty_id)},immediate:!0}},methods:{submitForm(){this.form.clearErrors(),this.user&&this.user.data&&this.user.data.user_id?this.updateRequest():this.storeRequest()},storeRequest(){this.form.post(this.route("panel.doctors.store"),{onSuccess:()=>this.$toast().success("Doctor created successfully!"),onError:i=>{Object.keys(i).forEach(l=>{const n=i[l];this.$toast().error(n)})}})},updateRequest(){this.form.patch(this.route("panel.doctors.update",{doctor:this.user.data.user_id}),{onSuccess:()=>this.$toast().success("Doctor updated successfully!"),onError:i=>{Object.keys(i).forEach(l=>{const n=i[l];this.$toast().error(n)})}})},deleteRequest(){this.$alert().confirm(()=>new Promise((i,l)=>{this.form.delete(this.route("panel.doctors.destroy",{doctor:this.user.data.user_id}),{onSuccess:()=>{this.$toast().success("Doctor deleted successfully!"),i()},onError:n=>{Object.keys(n).forEach(x=>{const e=n[x];this.$toast().error(e)}),l()}})}))}}},R={class:"h-full flex flex-col"},B={key:0,class:"flex gap-2"},F={class:"grid grid-cols-1 divide-y divide-gray-200 gap-12 pb-12"},L=["value"];function A(i,l,n,x,e,z){const U=p("v-inertia-head"),V=p("v-button"),S=p("v-section-heading"),g=p("v-content-body"),v=p("v-section-divider"),_=p("v-form-label"),y=p("v-form-input"),c=p("v-form-error"),m=p("v-form-group"),k=p("v-form-select"),q=p("v-form");return d(),b(h,null,[o(U,{title:n.user?`Editing '${n.user.data.name}' doctor.`:"Create User"},null,8,["title"]),C("div",R,[o(q,{onSubmit:E(z.submitForm,["prevent"])},{default:r(()=>[o(g,{class:"border-b border-gray-200"},{default:r(()=>[o(S,null,{title:r(()=>[n.user?(d(),b(h,{key:1},[s(" Editing '"+u(n.user.data.name)+"' doctor. ",1)],64)):(d(),b(h,{key:0},[s(" Create Doctor ")],64))]),description:r(()=>[n.user?(d(),b(h,{key:1},[s(" Change and/or modify the details for the doctor. ")],64)):(d(),b(h,{key:0},[s(" Fill up the form below to create a new doctor for the application. ")],64))]),actions:r(()=>[n.user&&this.$auth().can(["doctor.destroy"])?(d(),b("div",B,[o(V,{color:"danger",disabled:e.form.processing,onClick:E(z.deleteRequest,["prevent"])},{default:r(()=>[s(" Delete Doctor ")]),_:1},8,["disabled","onClick"])])):a("",!0)]),_:1})]),_:1}),C("div",F,[o(m,{class:"divide-y divide-gray-200"},{default:r(()=>[o(v,null,{default:r(()=>[s(" General Details ")]),_:1}),o(g,{class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-4"},{default:r(()=>[o(m,null,{default:r(()=>[o(_,null,{default:r(()=>[s("Name")]),_:1}),o(y,{type:"text",modelValue:e.form.name,"onUpdate:modelValue":l[0]||(l[0]=t=>e.form.name=t),error:e.form.errors.name,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.name?(d(),f(c,{key:0},{default:r(()=>[s(u(e.form.errors.name),1)]),_:1})):a("",!0)]),_:1}),o(m,null,{default:r(()=>[o(_,null,{default:r(()=>[s("Email")]),_:1}),o(y,{type:"text",modelValue:e.form.email,"onUpdate:modelValue":l[1]||(l[1]=t=>e.form.email=t),error:e.form.errors.email,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.email?(d(),f(c,{key:0},{default:r(()=>[s(u(e.form.errors.email),1)]),_:1})):a("",!0)]),_:1}),o(m,null,{default:r(()=>[o(_,null,{default:r(()=>[s("Phone Number")]),_:1}),o(y,{type:"text",modelValue:e.form.phone_number,"onUpdate:modelValue":l[2]||(l[2]=t=>e.form.phone_number=t),error:e.form.errors.phone_number,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.phone_number?(d(),f(c,{key:0},{default:r(()=>[s(u(e.form.errors.phone_number),1)]),_:1})):a("",!0)]),_:1}),o(m,null,{default:r(()=>[o(_,null,{default:r(()=>[s("Birthdate")]),_:1}),o(y,{type:"date",modelValue:e.form.birthdate,"onUpdate:modelValue":l[3]||(l[3]=t=>e.form.birthdate=t),error:e.form.errors.birthdate,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.birthdate?(d(),f(c,{key:0},{default:r(()=>[s(u(e.form.errors.birthdate),1)]),_:1})):a("",!0)]),_:1})]),_:1})]),_:1}),o(m,{class:"divide-y divide-gray-200"},{default:r(()=>[o(v,null,{default:r(()=>[s(" Location Details ")]),_:1}),o(g,{class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-4"},{default:r(()=>[o(m,{class:"md:col-span-2"},{default:r(()=>[o(_,null,{default:r(()=>[s("Address Line 1 ")]),_:1}),o(y,{type:"text",modelValue:e.form.address_line_1,"onUpdate:modelValue":l[4]||(l[4]=t=>e.form.address_line_1=t),error:e.form.errors.address_line_1,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.address_line_1?(d(),f(c,{key:0},{default:r(()=>[s(u(e.form.errors.address_line_1),1)]),_:1})):a("",!0)]),_:1}),o(m,{class:"md:col-span-2"},{default:r(()=>[o(_,null,{default:r(()=>[s("Address Line 2")]),_:1}),o(y,{type:"text",modelValue:e.form.address_line_2,"onUpdate:modelValue":l[5]||(l[5]=t=>e.form.address_line_2=t),error:e.form.errors.address_line_2,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.address_line_2?(d(),f(c,{key:0},{default:r(()=>[s(u(e.form.errors.address_line_2),1)]),_:1})):a("",!0)]),_:1}),o(m,null,{default:r(()=>[o(_,null,{default:r(()=>[s("City")]),_:1}),o(y,{type:"text",modelValue:e.form.city,"onUpdate:modelValue":l[6]||(l[6]=t=>e.form.city=t),error:e.form.errors.city,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.city?(d(),f(c,{key:0},{default:r(()=>[s(u(e.form.errors.city),1)]),_:1})):a("",!0)]),_:1}),o(m,null,{default:r(()=>[o(_,null,{default:r(()=>[s("State")]),_:1}),o(k,{options:n.states.data.map(t=>({label:t.name,value:t.state_id})),error:e.form.errors.state_id,disabled:e.form.processing,modelValue:e.form.state_id,"onUpdate:modelValue":l[7]||(l[7]=t=>e.form.state_id=t)},null,8,["options","error","disabled","modelValue"]),e.form.errors.state_id?(d(),f(c,{key:0},{default:r(()=>[s(u(e.form.errors.state_id),1)]),_:1})):a("",!0)]),_:1}),o(m,null,{default:r(()=>[o(_,null,{default:r(()=>[s("Zip Code")]),_:1}),o(y,{type:"text",modelValue:e.form.zip_code,"onUpdate:modelValue":l[8]||(l[8]=t=>e.form.zip_code=t),error:e.form.errors.zip_code,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.zip_code?(d(),f(c,{key:0},{default:r(()=>[s(u(e.form.errors.zip_code),1)]),_:1})):a("",!0)]),_:1}),o(m,null,{default:r(()=>[o(_,null,{default:r(()=>[s("Timezone")]),_:1}),o(k,{options:Object.entries(n.timezoneOptions).map(([t,D])=>({label:D,value:t})),error:e.form.errors.timezone,disabled:e.form.processing,modelValue:e.form.timezone,"onUpdate:modelValue":l[9]||(l[9]=t=>e.form.timezone=t)},null,8,["options","error","disabled","modelValue"]),e.form.errors.timezone?(d(),f(c,{key:0},{default:r(()=>[s(u(e.form.errors.timezone),1)]),_:1})):a("",!0)]),_:1})]),_:1})]),_:1}),o(m,{class:"divide-y divide-gray-200"},{default:r(()=>[o(v,null,{default:r(()=>[s(" Access & Security ")]),_:1}),o(g,{class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-4"},{default:r(()=>[o(m,{class:"md:col-span-2"},{default:r(()=>[o(_,null,{default:r(()=>[s("Medical Specialty")]),_:1}),o(k,{options:n.medicalSpecialties.data.map(t=>({label:t.name,value:t.medical_specialty_id})),error:e.form.errors.medical_specialty_id,disabled:e.form.processing,modelValue:e.form.medical_specialty_id,"onUpdate:modelValue":l[10]||(l[10]=t=>e.form.medical_specialty_id=t)},null,8,["options","error","disabled","modelValue"]),e.form.errors.medical_specialty_id?(d(),f(c,{key:0},{default:r(()=>[s(u(e.form.errors.medical_specialty_id),1)]),_:1})):a("",!0)]),_:1})]),_:1})]),_:1})]),o(m,{class:"bg-gray-50 flex items-center justify-end gap-2 text-right border-t border-gray-200"},{default:r(()=>[o(g,{class:"flex gap-4"},{default:r(()=>[e.form.progress?(d(),b("progress",{key:0,value:e.form.progress.percentage,max:"100"},u(e.form.progress.percentage)+"% ",9,L)):a("",!0),o(V,{href:i.route("panel.doctors.index"),color:"white",disabled:e.form.processing},{default:r(()=>[s(" Cancel ")]),_:1},8,["href","disabled"]),n.user?(d(),f(V,{key:2,disabled:e.form.processing},{default:r(()=>[s(" Save Changes ")]),_:1},8,["disabled"])):(d(),f(V,{key:1,disabled:e.form.processing},{default:r(()=>[s(" Create Doctor ")]),_:1},8,["disabled"]))]),_:1})]),_:1})]),_:1},8,["onSubmit"])])],64)}const J=w(N,[["render",A]]);export{J as default};
