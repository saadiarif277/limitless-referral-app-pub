import{L as w}from"./index-D6YI7NWh.js";import{T as U,r as m,o as l,c as y,a as o,w as r,d as C,F as b,b as t,t as u,f,g as S,e as _}from"./app-B3zO_ILq.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./focus-management-C4nM2lYB.js";import"./keyboard-DTUPi9Wy.js";import"./disposables-BnUz9YMx.js";import"./description-BoEneSfX.js";const F={name:"LawFirmsCreateEdit",layout:w,props:{organization:{type:Object,required:!1,default:()=>{}},organizationTypes:{type:Object,required:!1,default:()=>{}},states:{type:Object,required:!1,default:()=>{}}},data(){return{form:U({name:"",organization_type_id:"",email:"",phone_number:"",address_line_1:"",address_line_2:"",city:"",state_id:"",zip_code:""})}},watch:{organization:{handler(n){!n||!n.data||(this.form.name=n.data.name,this.form.organization_type_id=n.data.organization_type_id,this.form.email=n.data.email,this.form.phone_number=n.data.phone_number,this.form.address_line_1=n.data.address_line_1,this.form.address_line_2=n.data.address_line_2,this.form.city=n.data.city,this.form.state_id=n.data.state_id,this.form.zip_code=n.data.zip_code)},immediate:!0}},methods:{submitForm(){this.form.clearErrors(),this.organization&&this.organization.data&&this.organization.data.organization_id?this.updateRequest():this.storeRequest()},storeRequest(){this.form.post(this.route("panel.organizations.store"),{onSuccess:()=>this.$toast().success("Organization created successfully!"),onError:n=>{Object.keys(n).forEach(i=>{const a=n[i];this.$toast().error(a)})}})},updateRequest(){this.form.patch(this.route("panel.organizations.update",{organization:this.organization.data.organization_id}),{onSuccess:()=>this.$toast().success("Organization updated successfully!"),onError:n=>{Object.keys(n).forEach(i=>{const a=n[i];this.$toast().error(a)})}})},deleteRequest(){this.$alert().confirm(()=>new Promise((n,i)=>{this.form.delete(this.route("panel.organizations.destroy",{organization:this.organization.data.organization_id}),{onSuccess:()=>{this.$toast().success("Organization deleted successfully!"),n()},onError:a=>{Object.keys(a).forEach(V=>{const e=a[V];this.$toast().error(e)}),i()}})}))}}},L={key:0,class:"flex gap-2"},N={class:"grid grid-cols-1 divide-y divide-gray-200 gap-12 pb-12"},R=["value"];function B(n,i,a,V,e,v){const O=m("v-inertia-head"),z=m("v-button"),E=m("v-section-heading"),h=m("v-content-body"),k=m("v-section-divider"),c=m("v-form-label"),g=m("v-form-input"),p=m("v-form-error"),d=m("v-form-group"),x=m("v-form-select"),q=m("v-form");return l(),y(b,null,[o(O,{title:a.organization?`Editing '${a.organization.data.name}' organization.`:"Create Organization"},null,8,["title"]),o(q,{class:"h-full",onSubmit:C(v.submitForm,["prevent"])},{default:r(()=>[o(h,{class:"border-b border-gray-200"},{default:r(()=>[o(E,null,{title:r(()=>[a.organization?(l(),y(b,{key:1},[t(" Editing '"+u(a.organization.data.name)+"' organization. ",1)],64)):(l(),y(b,{key:0},[t(" Create Organization ")],64))]),description:r(()=>[a.organization?(l(),y(b,{key:1},[t(" Change and/or modify the details for the organization. ")],64)):(l(),y(b,{key:0},[t(" Fill up the form below to create a new organization for the application. ")],64))]),actions:r(()=>[a.organization&&this.$auth().can(["organization.destroy"])?(l(),y("div",L,[o(z,{color:"danger",disabled:e.form.processing,onClick:C(v.deleteRequest,["prevent"])},{default:r(()=>[t(" Delete Organization ")]),_:1},8,["disabled","onClick"])])):f("",!0)]),_:1})]),_:1}),S("div",N,[o(d,{class:"divide-y divide-gray-200"},{default:r(()=>[o(k,null,{default:r(()=>[t(" General Details ")]),_:1}),o(h,{class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-4"},{default:r(()=>[o(d,null,{default:r(()=>[o(c,null,{default:r(()=>[t("Name")]),_:1}),o(g,{type:"text",modelValue:e.form.name,"onUpdate:modelValue":i[0]||(i[0]=s=>e.form.name=s),error:e.form.errors.name,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.name?(l(),_(p,{key:0},{default:r(()=>[t(u(e.form.errors.name),1)]),_:1})):f("",!0)]),_:1}),o(d,null,{default:r(()=>[o(c,null,{default:r(()=>[t("Organization Type")]),_:1}),o(x,{options:a.organizationTypes.data.map(s=>({label:s.name,value:s.organization_type_id})),error:e.form.errors.organization_type_id,disabled:e.form.processing,modelValue:e.form.organization_type_id,"onUpdate:modelValue":i[1]||(i[1]=s=>e.form.organization_type_id=s)},null,8,["options","error","disabled","modelValue"]),e.form.errors.organization_type_id?(l(),_(p,{key:0},{default:r(()=>[t(u(e.form.errors.organization_type_id),1)]),_:1})):f("",!0)]),_:1}),o(d,null,{default:r(()=>[o(c,null,{default:r(()=>[t("Email")]),_:1}),o(g,{type:"text",modelValue:e.form.email,"onUpdate:modelValue":i[2]||(i[2]=s=>e.form.email=s),error:e.form.errors.email,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.email?(l(),_(p,{key:0},{default:r(()=>[t(u(e.form.errors.email),1)]),_:1})):f("",!0)]),_:1}),o(d,null,{default:r(()=>[o(c,null,{default:r(()=>[t("Phone Number")]),_:1}),o(g,{type:"text",modelValue:e.form.phone_number,"onUpdate:modelValue":i[3]||(i[3]=s=>e.form.phone_number=s),error:e.form.errors.phone_number,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.phone_number?(l(),_(p,{key:0},{default:r(()=>[t(u(e.form.errors.phone_number),1)]),_:1})):f("",!0)]),_:1})]),_:1})]),_:1}),o(d,{class:"divide-y divide-gray-200"},{default:r(()=>[o(k,null,{default:r(()=>[t(" Location Details ")]),_:1}),o(h,{class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-4"},{default:r(()=>[o(d,{class:"md:col-span-2"},{default:r(()=>[o(c,null,{default:r(()=>[t("Address Line 1 ")]),_:1}),o(g,{type:"text",modelValue:e.form.address_line_1,"onUpdate:modelValue":i[4]||(i[4]=s=>e.form.address_line_1=s),error:e.form.errors.address_line_1,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.address_line_1?(l(),_(p,{key:0},{default:r(()=>[t(u(e.form.errors.address_line_1),1)]),_:1})):f("",!0)]),_:1}),o(d,{class:"md:col-span-2"},{default:r(()=>[o(c,null,{default:r(()=>[t("Address Line 2")]),_:1}),o(g,{type:"text",modelValue:e.form.address_line_2,"onUpdate:modelValue":i[5]||(i[5]=s=>e.form.address_line_2=s),error:e.form.errors.address_line_2,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.address_line_2?(l(),_(p,{key:0},{default:r(()=>[t(u(e.form.errors.address_line_2),1)]),_:1})):f("",!0)]),_:1}),o(d,null,{default:r(()=>[o(c,null,{default:r(()=>[t("City")]),_:1}),o(g,{type:"text",modelValue:e.form.city,"onUpdate:modelValue":i[6]||(i[6]=s=>e.form.city=s),error:e.form.errors.city,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.city?(l(),_(p,{key:0},{default:r(()=>[t(u(e.form.errors.city),1)]),_:1})):f("",!0)]),_:1}),o(d,null,{default:r(()=>[o(c,null,{default:r(()=>[t("State")]),_:1}),o(x,{options:a.states.data.map(s=>({label:s.name,value:s.state_id})),error:e.form.errors.state_id,disabled:e.form.processing,modelValue:e.form.state_id,"onUpdate:modelValue":i[7]||(i[7]=s=>e.form.state_id=s)},null,8,["options","error","disabled","modelValue"]),e.form.errors.state_id?(l(),_(p,{key:0},{default:r(()=>[t(u(e.form.errors.state_id),1)]),_:1})):f("",!0)]),_:1}),o(d,null,{default:r(()=>[o(c,null,{default:r(()=>[t("Zip Code")]),_:1}),o(g,{type:"text",modelValue:e.form.zip_code,"onUpdate:modelValue":i[8]||(i[8]=s=>e.form.zip_code=s),error:e.form.errors.zip_code,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.zip_code?(l(),_(p,{key:0},{default:r(()=>[t(u(e.form.errors.zip_code),1)]),_:1})):f("",!0)]),_:1})]),_:1})]),_:1})]),o(d,{class:"bg-gray-50 flex items-center justify-end gap-2 text-right border-t border-gray-200"},{default:r(()=>[o(h,{class:"flex gap-4"},{default:r(()=>[e.form.progress?(l(),y("progress",{key:0,value:e.form.progress.percentage,max:"100"},u(e.form.progress.percentage)+"% ",9,R)):f("",!0),o(z,{href:n.route("panel.organizations.index"),color:"white",disabled:e.form.processing},{default:r(()=>[t(" Cancel ")]),_:1},8,["href","disabled"]),a.organization?(l(),_(z,{key:2,disabled:e.form.processing},{default:r(()=>[t(" Save Changes ")]),_:1},8,["disabled"])):(l(),_(z,{key:1,disabled:e.form.processing},{default:r(()=>[t(" Create Organization ")]),_:1},8,["disabled"]))]),_:1})]),_:1})]),_:1},8,["onSubmit"])],64)}const H=j(F,[["render",B]]);export{H as default};
