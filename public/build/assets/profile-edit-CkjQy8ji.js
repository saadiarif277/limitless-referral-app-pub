import{L as P}from"./index-D6YI7NWh.js";import{T as O,r as n,o as d,c as h,a as o,w as r,d as j,F as B,b as s,e as u,g as w,p as L,v as N,f as m,t as f}from"./app-B3zO_ILq.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./focus-management-C4nM2lYB.js";import"./keyboard-DTUPi9Wy.js";import"./disposables-BnUz9YMx.js";import"./description-BoEneSfX.js";const D={name:"PanelUserProfileEdit",layout:P,props:{mustVerifyEmail:{type:Boolean},status:{type:String},states:{type:Object,required:!0},timezoneOptions:{type:Object,required:!0}},data(){return{form:O({name:this.$page.props.auth.user.name,email:this.$page.props.auth.user.email,address_line_1:this.$page.props.auth.user.address_line_1,address_line_2:this.$page.props.auth.user.address_line_2,city:this.$page.props.auth.user.city,state_id:this.$page.props.auth.user.state_id,zip_code:this.$page.props.auth.user.zip_code,timezone:this.$page.props.auth.user.timezone,password:"",password_confirmation:""})}},methods:{submitForm(){this.form.clearErrors(),this.form.patch(this.route("panel.me.profile.update"),{onSuccess:()=>this.$toast().success("Profile updated successfully!"),onError:y=>{Object.keys(y).forEach(t=>{const c=y[t];this.$toast().error(c)})}})}}},F={class:"grid grid-cols-1 divide-y divide-gray-200 gap-12 pb-12"},A=["value"];function T(y,t,c,G,e,k){const z=n("v-inertia-head"),x=n("v-section-heading"),g=n("v-content-body"),U=n("v-link"),v=n("v-heading"),b=n("v-section-divider"),a=n("v-form-label"),_=n("v-form-input"),p=n("v-form-error"),i=n("v-form-group"),V=n("v-form-select"),E=n("v-button"),C=n("v-form");return d(),h(B,null,[o(z,{title:"Edit Profile"}),o(C,{class:"h-full",onSubmit:j(k.submitForm,["prevent"])},{default:r(()=>[o(g,{class:"border-b border-gray-200"},{default:r(()=>[o(x,null,{title:r(()=>[s(" User Profile ")]),description:r(()=>[s(" Change and/or modify your user's profile information. ")]),_:1})]),_:1}),c.mustVerifyEmail&&this.$page.props.auth.user.email_verified_at===null?(d(),u(g,{key:0,class:"bg-yellow-100"},{default:r(()=>[w("div",null,[o(v,{size:6},{default:r(()=>[s(" Your email address is unverified. "),o(U,{href:y.route("verification.send"),method:"post",as:"button"},{default:r(()=>[s(" Click here to re-send the verification email. ")]),_:1},8,["href"])]),_:1}),L(o(v,{size:6,class:"mt-2 font-medium text-sm text-green-600"},{default:r(()=>[s(" A new verification link has been sent to your email address. ")]),_:1},512),[[N,c.status==="verification-link-sent"]])])]),_:1})):m("",!0),w("div",F,[o(i,{class:"divide-y divide-gray-200"},{default:r(()=>[o(b,null,{default:r(()=>[s(" General Details ")]),_:1}),o(g,{class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-4"},{default:r(()=>[o(i,null,{default:r(()=>[o(a,null,{default:r(()=>[s("Name")]),_:1}),o(_,{type:"text",modelValue:e.form.name,"onUpdate:modelValue":t[0]||(t[0]=l=>e.form.name=l),error:e.form.errors.name,required:!0,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.name?(d(),u(p,{key:0},{default:r(()=>[s(f(e.form.errors.name),1)]),_:1})):m("",!0)]),_:1}),o(i,null,{default:r(()=>[o(a,null,{default:r(()=>[s("Email")]),_:1}),o(_,{type:"email",modelValue:e.form.email,"onUpdate:modelValue":t[1]||(t[1]=l=>e.form.email=l),error:e.form.errors.email,required:!0,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.email?(d(),u(p,{key:0},{default:r(()=>[s(f(e.form.errors.email),1)]),_:1})):m("",!0)]),_:1}),o(i,null,{default:r(()=>[o(a,null,{default:r(()=>[s("Password")]),_:1}),o(_,{type:"password",modelValue:e.form.password,"onUpdate:modelValue":t[2]||(t[2]=l=>e.form.password=l),error:e.form.errors.password,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.password?(d(),u(p,{key:0},{default:r(()=>[s(f(e.form.errors.password),1)]),_:1})):m("",!0)]),_:1}),o(i,null,{default:r(()=>[o(a,null,{default:r(()=>[s("Password Confirmation")]),_:1}),o(_,{type:"password",modelValue:e.form.password_confirmation,"onUpdate:modelValue":t[3]||(t[3]=l=>e.form.password_confirmation=l),error:e.form.errors.password_confirmation,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.password_confirmation?(d(),u(p,{key:0},{default:r(()=>[s(f(e.form.errors.password_confirmation),1)]),_:1})):m("",!0)]),_:1})]),_:1})]),_:1}),o(i,{class:"divide-y divide-gray-200"},{default:r(()=>[o(b,null,{default:r(()=>[s(" Location Details ")]),_:1}),o(g,{class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-4"},{default:r(()=>[o(i,{class:"md:col-span-2"},{default:r(()=>[o(a,null,{default:r(()=>[s("Address Line 1 ")]),_:1}),o(_,{type:"text",modelValue:e.form.address_line_1,"onUpdate:modelValue":t[4]||(t[4]=l=>e.form.address_line_1=l),error:e.form.errors.address_line_1,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.address_line_1?(d(),u(p,{key:0},{default:r(()=>[s(f(e.form.errors.address_line_1),1)]),_:1})):m("",!0)]),_:1}),o(i,{class:"md:col-span-2"},{default:r(()=>[o(a,null,{default:r(()=>[s("Address Line 2")]),_:1}),o(_,{type:"text",modelValue:e.form.address_line_2,"onUpdate:modelValue":t[5]||(t[5]=l=>e.form.address_line_2=l),error:e.form.errors.address_line_2,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.address_line_2?(d(),u(p,{key:0},{default:r(()=>[s(f(e.form.errors.address_line_2),1)]),_:1})):m("",!0)]),_:1}),o(i,null,{default:r(()=>[o(a,null,{default:r(()=>[s("City")]),_:1}),o(_,{type:"text",modelValue:e.form.city,"onUpdate:modelValue":t[6]||(t[6]=l=>e.form.city=l),error:e.form.errors.city,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.city?(d(),u(p,{key:0},{default:r(()=>[s(f(e.form.errors.city),1)]),_:1})):m("",!0)]),_:1}),o(i,null,{default:r(()=>[o(a,null,{default:r(()=>[s("State")]),_:1}),o(V,{options:c.states.data.map(l=>({label:l.name,value:l.state_id})),error:e.form.errors.state_id,disabled:e.form.processing,modelValue:e.form.state_id,"onUpdate:modelValue":t[7]||(t[7]=l=>e.form.state_id=l)},null,8,["options","error","disabled","modelValue"]),e.form.errors.state_id?(d(),u(p,{key:0},{default:r(()=>[s(f(e.form.errors.state_id),1)]),_:1})):m("",!0)]),_:1}),o(i,null,{default:r(()=>[o(a,null,{default:r(()=>[s("Zip Code")]),_:1}),o(_,{type:"text",modelValue:e.form.zip_code,"onUpdate:modelValue":t[8]||(t[8]=l=>e.form.zip_code=l),error:e.form.errors.zip_code,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.zip_code?(d(),u(p,{key:0},{default:r(()=>[s(f(e.form.errors.zip_code),1)]),_:1})):m("",!0)]),_:1}),o(i,null,{default:r(()=>[o(a,null,{default:r(()=>[s("Timezone")]),_:1}),o(V,{options:Object.entries(c.timezoneOptions).map(([l,S])=>({label:S,value:l})),error:e.form.errors.timezone,disabled:e.form.processing,modelValue:e.form.timezone,"onUpdate:modelValue":t[9]||(t[9]=l=>e.form.timezone=l)},null,8,["options","error","disabled","modelValue"]),e.form.errors.timezone?(d(),u(p,{key:0},{default:r(()=>[s(f(e.form.errors.timezone),1)]),_:1})):m("",!0)]),_:1})]),_:1})]),_:1})]),o(i,{class:"bg-gray-50 flex items-center justify-end gap-2 text-right border-t border-gray-200"},{default:r(()=>[o(g,{class:"flex gap-4"},{default:r(()=>[e.form.progress?(d(),h("progress",{key:0,value:e.form.progress.percentage,max:"100"},f(e.form.progress.percentage)+"% ",9,A)):m("",!0),o(E,{disabled:e.form.processing},{default:r(()=>[s(" Save Changes ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])],64)}const Q=q(D,[["render",T]]);export{Q as default};
