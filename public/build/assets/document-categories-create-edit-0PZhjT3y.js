import{L as S}from"./index-D6YI7NWh.js";import{T as q,r as a,o as i,c as d,a as o,w as t,d as j,F as m,b as n,t as u,g as F,e as f,f as y}from"./app-B3zO_ILq.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./focus-management-C4nM2lYB.js";import"./keyboard-DTUPi9Wy.js";import"./disposables-BnUz9YMx.js";import"./description-BoEneSfX.js";const R={name:"DocumentCategoriesCreateEdit",layout:S,props:{documentCategory:{type:Object,required:!1,default:()=>{}}},data(){return{form:q({name:"",description:""})}},watch:{documentCategory:{handler(r){!r||!r.data||(this.form.name=r.data.name,this.form.description=r.data.description)},immediate:!0}},methods:{submitForm(){this.form.clearErrors(),this.documentCategory&&this.documentCategory.data&&this.documentCategory.data.document_category_id?this.updateRequest():this.storeRequest()},storeRequest(){this.form.post(this.route("panel.document-categories.store"),{onSuccess:()=>this.$toast().success("Document category created successfully!"),onError:r=>{Object.keys(r).forEach(c=>{const s=r[c];this.$toast().error(s)})}})},updateRequest(){this.form.patch(this.route("panel.document-categories.update",{document_category:this.documentCategory.data.document_category_id}),{onSuccess:()=>this.$toast().success("Document category updated successfully!"),onError:r=>{Object.keys(r).forEach(c=>{const s=r[c];this.$toast().error(s)})}})},deleteRequest(){this.$alert().confirm(()=>new Promise((r,c)=>{this.form.delete(this.route("panel.document-categories.destroy",{document_category:this.documentCategory.data.document_category_id}),{onSuccess:()=>{this.$toast().success("Document category deleted successfully!"),r()},onError:s=>{Object.keys(s).forEach(h=>{const e=s[h];this.$toast().error(e)}),c()}})}))}}},B={class:"grid grid-cols-1 divide-y divide-gray-200 gap-12 pb-12"},O=["value"];function L(r,c,s,h,e,C){const k=a("v-inertia-head"),x=a("v-section-heading"),g=a("v-content-body"),E=a("v-section-divider"),b=a("v-form-label"),D=a("v-form-input"),v=a("v-form-error"),l=a("v-form-group"),V=a("v-form-textarea"),_=a("v-button"),w=a("v-form");return i(),d(m,null,[o(k,{title:s.documentCategory?`Editing '${s.documentCategory.data.name}' document category.`:"Create Document Category"},null,8,["title"]),o(w,{class:"h-full",onSubmit:j(C.submitForm,["prevent"])},{default:t(()=>[o(g,{class:"border-b border-gray-200"},{default:t(()=>[o(x,null,{title:t(()=>[s.documentCategory?(i(),d(m,{key:1},[n(" Editing '"+u(s.documentCategory.data.name)+"' document category. ",1)],64)):(i(),d(m,{key:0},[n(" Create Document Category ")],64))]),description:t(()=>[!s.documentCategory&&this.$auth().can(["document-category.destroy"])?(i(),d(m,{key:0},[n(" Fill up the form below to create a new document category for the application. ")],64)):(i(),d(m,{key:1},[n(" Change and/or modify the details for the document category. ")],64))]),_:1})]),_:1}),F("div",B,[o(l,{class:"divide-y divide-gray-200"},{default:t(()=>[o(E,null,{default:t(()=>[n(" General Details ")]),_:1}),o(g,{class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-4"},{default:t(()=>[o(l,{class:"col-span-full sm:col-span-1"},{default:t(()=>[o(b,null,{default:t(()=>[n("Name")]),_:1}),o(D,{type:"text",modelValue:e.form.name,"onUpdate:modelValue":c[0]||(c[0]=p=>e.form.name=p),error:e.form.errors.name,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.name?(i(),f(v,{key:0},{default:t(()=>[n(u(e.form.errors.name),1)]),_:1})):y("",!0)]),_:1}),o(l,{class:"col-span-full"},{default:t(()=>[o(b,null,{default:t(()=>[n("Description")]),_:1}),o(V,{modelValue:e.form.description,"onUpdate:modelValue":c[1]||(c[1]=p=>e.form.description=p),error:e.form.errors.description,disabled:e.form.processing},null,8,["modelValue","error","disabled"]),e.form.errors.description?(i(),f(v,{key:0},{default:t(()=>[n(u(e.form.errors.description),1)]),_:1})):y("",!0)]),_:1})]),_:1})]),_:1})]),o(l,{class:"bg-gray-50 flex items-center justify-end gap-2 text-right border-t border-gray-200"},{default:t(()=>[o(g,{class:"flex gap-4"},{default:t(()=>[e.form.progress?(i(),d("progress",{key:0,value:e.form.progress.percentage,max:"100"},u(e.form.progress.percentage)+"% ",9,O)):y("",!0),o(_,{href:r.route("panel.document-categories.index"),color:"white",disabled:e.form.processing},{default:t(()=>[n(" Cancel ")]),_:1},8,["href","disabled"]),s.documentCategory?(i(),f(_,{key:2,disabled:e.form.processing},{default:t(()=>[n(" Save Changes ")]),_:1},8,["disabled"])):(i(),f(_,{key:1,disabled:e.form.processing},{default:t(()=>[n(" Create Document Category ")]),_:1},8,["disabled"]))]),_:1})]),_:1})]),_:1},8,["onSubmit"])],64)}const H=N(R,[["render",L]]);export{H as default};
